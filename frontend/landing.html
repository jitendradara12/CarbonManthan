<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarbonManthan - The Power of Blue Carbon</title>
    <link rel="stylesheet" href="/frontend/landing.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="sticky-header" role="banner">
        <nav class="container" role="navigation" aria-label="Main">
            <a href="/" class="logo" aria-label="Go to home" id="landing-home-link">CarbonManthan</a>
            <div class="nav-actions">
                <a href="/app/#/login" class="btn btn-outline">Login</a>
                <a href="/app/#/register" class="btn btn-primary">Register</a>
                <button id="theme-toggle" class="theme-toggle-btn" title="Toggle theme"></button>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="video-background">
                <!-- Using a placeholder image for now -->
                <img src="/frontend/assets/images/underwater-seagrass-hero.jpg" alt="Underwater seagrass bed">
            </div>
            <div class="hero-content">
                <h1>Our Ocean, Our Future: The Power of Blue Carbon</h1>
                <p>Discover how coastal ecosystems are our greatest allies in the fight against climate change.</p>
                <a href="/app/#/register" class="btn btn-primary">Get Started</a>

            </div>
        </section>

            <section class="map-preview-section" style="padding:40px 0;">
                <div class="container">
                    <div style="display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;">
                        <h2 style="margin:0;">Explore Projects Across India</h2>
                        <div style="display:flex;gap:10px;align-items:center;">
                            <a href="/explorer" class="btn btn-outline">Open Explorer</a>
                            <a href="https://mumbai.polygonscan.com/" target="_blank" rel="noopener" class="btn btn-primary">View Blockchain Transactions</a>
                        </div>
                    </div>
                    <div id="landing-map" style="height:380px;margin-top:16px;border-radius:10px;overflow:hidden;border:1px solid #e5e7eb;"></div>
                    <div style="margin-top:10px;font-size:14px;color:#374151;display:flex;gap:16px;">
                        <span>Approved: <strong id="lm-approved">0</strong></span>
                        <span>Pending: <strong id="lm-pending">0</strong></span>
                        <span>Rejected: <strong id="lm-rejected">0</strong></span>
                        <span>Total: <strong id="lm-total">0</strong></span>
                    </div>
                </div>
                <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
                <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
                <script>
                    (function(){
                        const mapDiv = document.getElementById('landing-map');
                        if(!mapDiv || !window.L) return;
                        const map = L.map(mapDiv, { zoomControl: true, scrollWheelZoom: false });
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap'}).addTo(map);
                        const bounds = [[6.0, 68.0], [37.5, 97.5]];
                        map.fitBounds(bounds);
                        fetch('/api/public/projects.geojson')
                            .then(r => r.ok ? r.json() : { features: [] })
                            .then(data => {
                                const cnt = { Approved:0, Pending:0, Rejected:0 };
                                (data.features||[]).forEach(f => {
                                    const st = f.properties?.status;
                                    if (cnt[st] != null) cnt[st]++;
                                    const [lon, lat] = f.geometry.coordinates;
                                    const color = st==='Approved'?'#1B9E77':(st==='Pending'?'#E6AB02':'#D95F02');
                                    const icon = L.divIcon({ className:'', html:`<div style="background:${color};width:12px;height:12px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 1px rgba(0,0,0,.2)"></div>`, iconSize:[16,16] });
                                    L.marker([lat, lon], { icon }).addTo(map);
                                });
                                document.getElementById('lm-approved').textContent = cnt.Approved;
                                document.getElementById('lm-pending').textContent = cnt.Pending;
                                document.getElementById('lm-rejected').textContent = cnt.Rejected;
                                document.getElementById('lm-total').textContent = (data.features||[]).length;
                            })
                            .catch(()=>{});
                    })();
                </script>
            </section>
        

    <section class="ecosystems-section" style="margin-top:0;">
            <div class="container">
                <h2>Our Vital Blue Carbon Ecosystems</h2>
                <div class="ecosystem-cards">
                    <div class="card">
                        <img src="/frontend/assets/images/mangrove-forest.jpg" alt="Mangrove Forest">
                        <div class="card-content">
                            <h3>Mangrove Forests</h3>
                            <p>These coastal powerhouses are nurseries for marine life and champions of carbon storage.</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="/frontend/assets/images/seagrass-meadow.jpg" alt="Seagrass Meadow">
                        <div class="card-content">
                            <h3>Seagrass Meadows</h3>
                            <p>Efficiently trapping carbon and sediment, these underwater fields are crucial for ocean health.</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="/frontend/assets/images/tidal-salt-marsh.jpg" alt="Tidal Salt Marsh">
                        <div class="card-content">
                            <h3>Tidal Salt Marshes</h3>
                            <p>Vital for carbon burial and coastal resilience, these wetlands are unsung climate heroes.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="impact-section">
            <div class="container">
                <h2>Our Impact in Numbers</h2>
                <div class="stats-container">
                    <div class="stat">
                        <span class="stat-number" data-target="500000">0</span>+
                        <p>Tonnes COâ‚‚ Sequestered</p>
                    </div>
                    <div class="stat">
                        <span class="stat-number" data-target="1200">0</span>+
                        <p>Hectares of Coastline Restored</p>
                    </div>
                    <div class="stat">
                        <span class="stat-number" data-target="35">0</span>+
                        <p>Communities Empowered</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="cta-section">
            <div class="container">
                <h2>Join the Blue Revolution</h2>
                <p>Create an account to track project progress, access exclusive resources, and become part of a global community dedicated to preserving our oceans.</p>
                <a href="/app/#/register" class="btn btn-primary">Register for Free</a>
            </div>
        </section>
    </main>


    <script src="/frontend/landing.js"></script>
</body>
</html>

